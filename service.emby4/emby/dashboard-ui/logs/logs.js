define(["../list/list","globalize","datetime","loading","apphost","listView","listViewStyle","emby-linkbutton","flexStyles","emby-toggle"],function(ListPage,globalize,datetime,loading,appHost,listView){"use strict";function onDebugOptionChanged(){var checked=this.checked;ApiClient.getServerConfiguration().then(function(config){config.EnableDebugLevelLogging=checked,ApiClient.updateServerConfiguration(config)})}function onViewShow(){var view=this;ApiClient.getServerConfiguration().then(function(config){view.querySelector(".chkDebugLog").checked=config.EnableDebugLevelLogging})}function LogsPage(view,params){params.serverId=ApiClient.serverId(),this.supportsPlayback=!1,this.supportsViewSettings=!1,this.enableMultiSelect=!1,this.enableTotalRecordCountDisplay=!1,ListPage.call(this,view,params),function(view){var html="";html+='<div class="readOnlyContent flex padded-top">',html+='<div class="checkboxContainer checkboxContainer-withDescription">',html+='<label style="width:auto;">',html+='<input type="checkbox" is="emby-toggle" class="chkDebugLog" />',html+="<span>"+globalize.translate("LabelEnableDebugLogging")+"</span>",html+="</label>",html+='<div class="fieldDescription toggleFieldDescription">'+globalize.translate("EnableDebugLoggingHelp")+"</div>",html+="</div>",html+="</div>",view.querySelector(".itemsViewSettingsContainer").insertAdjacentHTML("afterend",html)}(view),view.querySelector(".chkDebugLog").addEventListener("change",onDebugOptionChanged),view.addEventListener("viewbeforeshow",onViewShow)}return Object.assign(LogsPage.prototype,ListPage.prototype),LogsPage.prototype.getItems=function(query){var apiClient=ApiClient,serverId=apiClient.serverId();return apiClient.getJSON(apiClient.getUrl("System/Logs")).then(function(result){for(var i=0,length=result.length;i<length;i++){var log=result[i];log.ServerId=serverId,log.Type="Log"}return result})},LogsPage.prototype.getListViewOptions=function(items,settings){var options=ListPage.prototype.getListViewOptions.apply(this,arguments);return options.image=!1,options.showDateModified=!0,options.moreButton=!1,options.action="openlink",listView.setListOptions(items,options),options},LogsPage.prototype.getSettingsKey=function(){return"logs"},LogsPage.prototype.setTitle=function(){},LogsPage.prototype.getSortMenuOptions=function(){return[]},LogsPage.prototype.getVisibleFilters=function(){return[]},LogsPage.prototype.enableVirtualData=function(){return!1},LogsPage.prototype.getViewSettings=function(){var viewSettings=ListPage.prototype.getViewSettings.call(this);return viewSettings.imageType="list",viewSettings},LogsPage});