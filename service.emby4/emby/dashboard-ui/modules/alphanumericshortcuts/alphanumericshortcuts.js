define(["dom","focusManager","css!./alphanumericshortcuts"],function(dom,focusManager){"use strict";var inputDisplayElement,alpanumericShortcutTimeout,currentDisplayText="";function onKeyDown(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var options=this.options;if(options&&options.focusScope===focusManager.getCurrentScope()){var key=e.key,chr=key?function(value){return value.match(/^[0-9a-zA-Z]+$/)}(key):null;chr&&1===(chr=chr.toString().toUpperCase()).length&&(options.itemsContainer,function(instance,e,chr){if(3<=currentDisplayText.length)return;inputDisplayElement||((inputDisplayElement=document.createElement("div")).classList.add("alphanumeric-shortcut"),inputDisplayElement.classList.add("hide"),document.body.appendChild(inputDisplayElement)),currentDisplayText+=chr,inputDisplayElement.innerHTML=currentDisplayText,inputDisplayElement.classList.remove("hide"),function(instance){clearAlphaNumericShortcutTimeout(),alpanumericShortcutTimeout=setTimeout(function(){var value=currentDisplayText;currentDisplayText="",null,inputDisplayElement.innerHTML="",inputDisplayElement.classList.add("hide"),clearAlphaNumericShortcutTimeout(),function(instance,container,value){if(instance.onAlphaNumericValueEntered&&instance.onAlphaNumericValueEntered(value));}(this,0,value)}.bind(instance),2e3)}(instance)}(this,0,chr))}}}function clearAlphaNumericShortcutTimeout(){alpanumericShortcutTimeout&&(clearTimeout(alpanumericShortcutTimeout),alpanumericShortcutTimeout=null)}function AlphaNumericShortcuts(options){(this.options=options).focusScope=focusManager.getCurrentScope();var keyDownHandler=onKeyDown.bind(this);dom.addEventListener(window,"keydown",keyDownHandler,{passive:!0}),this.keyDownHandler=keyDownHandler}return AlphaNumericShortcuts.prototype.destroy=function(){var keyDownHandler=this.keyDownHandler;keyDownHandler&&(dom.removeEventListener(window,"keydown",keyDownHandler,{passive:!0}),this.keyDownHandler=null),this.options=null},AlphaNumericShortcuts});