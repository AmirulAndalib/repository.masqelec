define(["connectionManager"],function(connectionManager){"use strict";function PhotoScreenSaver(){this.name="Photo Screen Saver",this.type="screensaver",this.id="photoscreensaver",this.supportsAnonymous=!1}return PhotoScreenSaver.prototype.show=function(){if(!this.currentSlideshow){var apiClient=connectionManager.currentApiClient(),self=this;apiClient.getItems(apiClient.getCurrentUserId(),{ImageTypes:"Primary",IncludeItemTypes:"Photo",SortBy:"Random",Recursive:!0,ImageTypeLimit:1,StartIndex:0,Limit:200}).then(function(result){result.Items.length&&function(instance,items){require(["slideshow"],function(slideshow){if(!instance.currentSlideshow){var newSlideShow=new slideshow({showTitle:!0,items:items});newSlideShow.show(),instance.currentSlideshow=newSlideShow}})}(self,result.Items)})}},PhotoScreenSaver.prototype.hide=function(){var currentSlideshow=this.currentSlideshow;currentSlideshow&&(currentSlideshow.hide(),this.currentSlideshow=null)},PhotoScreenSaver});