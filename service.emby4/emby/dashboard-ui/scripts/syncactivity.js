define(["loading","mainTabsManager","apphost","globalize","syncJobList","events","localsync","emby-button","paper-icon-button-light"],function(loading,mainTabsManager,appHost,globalize,syncJobList,events){"use strict";function getConvertTabs(){return[{href:"syncactivity.html?mode=convert",name:globalize.translate("Conversions")},{href:"syncsettings.html?mode=convert",name:globalize.translate("Settings")}]}function getDownloadTabs(){return[{href:"syncactivity.html",name:globalize.translate("Downloads")},{href:"syncsettings.html",name:globalize.translate("Settings")}]}return function(view,params){var mySyncJobList=new syncJobList({serverId:ApiClient.serverId(),userId:"offline"===params.mode?null:ApiClient.getCurrentUserId(),element:view.querySelector(".syncActivity"),mode:params.mode});view.addEventListener("viewshow",function(){mainTabsManager.setTabs(this,0,"convert"===params.mode?getConvertTabs:getDownloadTabs)}),view.addEventListener("viewdestroy",function(){mySyncJobList.destroy()})}});