define(["connectionManager","loading","skinManager","globalize"],function(connectionManager,loading,skinManager,globalize){"use strict";return{authenticateUser:function(serverId,username,password){loading.show(),connectionManager.getApiClient(serverId).authenticateUserByName(username,password).then(function(result){loading.hide(),skinManager.loadUserSkin()},function(result){loading.hide(),require(["alert"],function(alert){alert({text:globalize.translate("MessageInvalidUser"),title:globalize.translate("HeaderSignInError")})})})}}});