define(["../list/list","cardBuilder","layoutManager","loading","dom","globalize","humanedate","appRouter","paper-icon-button-light","cardStyle","emby-linkbutton","emby-button","indicators","flexStyles"],function(ListPage,cardBuilder,layoutManager,loading,dom,globalize,humanedate,appRouter){"use strict";function showNewUserDialog(e){appRouter.show("usernew.html")}function setUserProperies(user){user.ServerId=ApiClient.serverId()}function UsersPage(view,params){params.serverId=ApiClient.serverId(),this.supportsPlayback=!1,this.enableMultiSelect=!1,ListPage.call(this,view,params),function(view){view.querySelector(".listTotalRecordCount").insertAdjacentHTML("afterend",'<button is="emby-button" type="button" class="raised raised-mini btnAddUser submit" style="margin-left:.5em;" title="'+globalize.translate("HeaderNewUser")+'"><i class="md-icon button-icon button-icon-left">&#xE145;</i><span>'+globalize.translate("HeaderNewUser")+"</span></button>")}(view),view.querySelector(".btnAddUser").addEventListener("click",showNewUserDialog)}return Object.assign(UsersPage.prototype,ListPage.prototype),UsersPage.prototype.getItems=function(query){return ApiClient.getUsers().then(function(result){return result.forEach(setUserProperies),result})},UsersPage.prototype.getItemCountText=function(numItems){return 1===numItems?globalize.translate("OneUser"):globalize.translate("UserCountValue",numItems)},UsersPage.prototype.getSettingsKey=function(){return"users"},UsersPage.prototype.setTitle=function(){},UsersPage.prototype.getViewSettings=function(){var settings=ListPage.prototype.getViewSettings.call(this);return settings.showYear=!1,settings},UsersPage.prototype.getCardOptions=function(items,settings){var options=ListPage.prototype.getCardOptions.apply(this,arguments);return options=Object.assign(options,{centerText:!0,overlayMoreButton:!0,overlayText:!1,showUserLastSeen:!0,cardLayout:!0,lines:2})},UsersPage.prototype.getListViewOptions=function(items,settings){var options=ListPage.prototype.getListViewOptions.apply(this,arguments);return options.showUserLastSeen=!0,options.enableDefaultIcon=!0,options},UsersPage.prototype.getSortMenuOptions=function(){return[]},UsersPage.prototype.getVisibleFilters=function(){return[]},UsersPage.prototype.enableVirtualData=function(){return!1},UsersPage.prototype.getVisibleViewSettings=function(){var fields=[];return fields.push("imageType"),fields},UsersPage});